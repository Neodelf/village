!function(a){var b=a(window);a.sldr=function(c,d){var e=this;e.$el=a(c),e.el=c,e.$elwrp=a(c).children(),e.$el.data("sldr",e),e.callback=new Array,e.sldrSlides=new Array,e.sldrLoadSlides=new Array,e.$sliderTimers=new Array,e.$resizeTimers=new Array,e.$delayTimers=new Array,e.wrp=e.$el.children(),e.elmnts=e.wrp.children(),e.elmntsHTML=e.wrp.html(),e.benchcoordinate={},e.prevcoordinate={},e.cursorcoordinate={},e.thiscoordinate={},e.coordinatedifference=0,e.dragdifference=0,e.trackmouse=!1,e.init=function(){e.config=a.extend({},a.sldr.defaultOptions,d),e.browser();var c=e.$el,f=e.$elwrp,g=f.children(),h=f.html(),i=!1;if(""==e.sldrSlides){e.callback={sldr:e.$el,prevFocalIndex:"",prevSlideNum:"",currentFocalIndex:"",currentClass:"",currentID:"",currentFocalPoint:"",currentSlideNum:"",shiftWidth:"",nextFocalIndex:"",nextSlideNum:""};for(var j=1;j<g.length+1;j++){var k=g.eq(j-1),l=k.find(".sldr-load");e.sldrSlides.push({sld:k,slideNum:j,id:k.attr("id"),class_name:k.attr("class").split(" ")[0],html:k.html()}),l.hasClass("sldr-load")&&(i=!0,e.sldrLoadSlides.push({slideNum:j,id:k.attr("id"),class_name:k.attr("class").split(" ")[0],html:k.html()}))}}if(g.length<=1&&(g.eq(0).addClass(e.config.focalClass),e.sliderInit({slides:e.sldrSlides,callback:e.callback,config:e.config}),e.sliderLoaded({slides:e.sldrSlides,callback:e.callback,config:e.config})),g.length>1&&e.fillGaps(h),e.sliderInit({slides:e.sldrSlides,callback:e.callback,config:e.config}),e.focalChange(1),e.resizeElements(),i){var m=c.find("."+e.sldrLoadSlides.shift().class_name),n=0;e.ajaxLoad(m,n,"shift")}else""!=e.config.selectors&&(e.config.selectors.eq(0).addClass(e.config.focalClass),e.config.selectors.click(function(b){var c=a(this),d=e.focalChange(c.index()+1,"selectors");e.animate(d),c.siblings().removeClass(e.config.focalClass),c.addClass(e.config.focalClass),b.preventDefault()}),e.config.sldrAuto&&(e.config.selectors.bind("mouseenter",function(){e.sliderPause()}),e.config.selectors.bind("mouseleave",function(){e.sliderTimer()}))),""!=e.config.nextSlide&&(e.config.nextSlide.click(function(a){""!=e.config.selectors&&(e.config.selectors.removeClass(e.config.focalClass),e.config.selectors.eq(e.callback.nextSlideNum-1).addClass(e.config.focalClass));var b=e.focalChange(e.callback.nextSlideNum,"next");e.animate(b),a.preventDefault()}),e.config.sldrAuto&&(e.config.nextSlide.bind("mouseenter",function(){e.sliderPause()}),e.config.nextSlide.bind("mouseleave",function(){e.sliderTimer()}))),""!=e.config.previousSlide&&(e.config.previousSlide.click(function(a){""!=e.config.selectors&&(e.config.selectors.removeClass(e.config.focalClass),e.config.selectors.eq(e.callback.prevSlideNum-1).addClass(e.config.focalClass));var b=e.focalChange(e.callback.prevSlideNum,"prev");e.animate(b),a.preventDefault()}),e.config.sldrAuto&&(e.config.previousSlide.bind("mouseenter",function(){e.sliderPause()}),e.config.previousSlide.bind("mouseleave",function(){e.sliderTimer()}))),e.$elwrp.bind("mousemove touchmove",e.coordinatehandler),setInterval(e.coordinateevents,1),e.$elwrp.bind("mousedown touchstart",function(a){a.preventDefault(),e.trackmouse=!0,void 0!==a.originalEvent.touches?e.benchcoordinate={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:e.benchcoordinate={x:a.clientX,y:a.clientY}}),e.$elwrp.bind("mouseup touchend",function(a){var b;a.preventDefault(),e.trackmouse=!1,e.coordinatedifference=e.benchcoordinate.x-e.cursorcoordinate.x,e.coordinatedifference>0?b=e.focalChange(e.callback.nextSlideNum,"next"):e.coordinatedifference<0&&(b=e.focalChange(e.callback.prevSlideNum,"prev")),e.animate(b)}),g.length>1&&e.sliderTimer(),b.bind("resize",function(a){e.$resizeTimers[e.config.sldrNumber]=setTimeout(function(){e.sliderPause(),e.resizeElements(),g.length>1&&e.sliderTimer()},e.config.resizeDelay)}),e.resizeElements(),e.sliderLoaded({slides:e.sldrSlides,callback:e.callback,config:e.config})},e.ajaxLoad=function(b,c,d){for(var i,j,k,c,f=b.find(".sldr-load"),g=f.attr("src"),h=["class","src","alt","title","width","height"],l=new Array,m=0;m<h.length;m++){var n=!!f.attr(h[m])&&f.attr(h[m]);n&&l.push(h[m]+"='"+n+"'")}g&&(f.replaceWith("<img "+l.join(" ")+" >"),a.ajax({type:"GET",url:g,async:!0,cache:!0,success:function(a){i=b.find("img"),i.removeClass("sldr-load"),e.slideLoaded({slide:e.sldrSlides[c],callback:e.callback,config:e.config}),"shift"==d?(j=e.sldrLoadSlides.shift(),d="pop"):"pop"==d&&(j=e.sldrLoadSlides.pop(),d="shift"),e.config.sldrLoad++,e.config.sldrLoad<e.sldrSlides.length?(k=e.$el.find("."+j.class_name),c=j.slideNum-1,e.ajaxLoad(k,c,d)):e.init()},error:function(a,b){console.log(a),console.log(b)}}))},e.animate=function(b){try{if(""!=e.config.animate&&e.config.animate)e.config.animate(e.$el,b,{slides:e.sldrSlides,callback:e.callback,config:e.config});else{if(!b)return;var c,g;e.$delayTimers[e.config.sliderNumber]=setTimeout(function(){e.$elwrp.addClass("animate"),e.config.animateJquery||"MSIE 6"==e.config.isBrowser||"MSIE 7"==e.config.isBrowser||"MSIE 8"==e.config.isBrowser||"MSIE 9"==e.config.isBrowser||0!=e.config.animate?(g=a.easing&&a.easing.easeInOutQuint?"easeInOutQuint":"linear",e.$elwrp.animate({marginLeft:e.config.offset-b.currentFocalPoint},750,g)):(c=e.config.offset-b.currentFocalPoint,e.$elwrp.css(e.config.cssPrefix+"transform","translate3d( "+c+"px , 0 , 0 )")),e.slideComplete({slides:e.sldrSlides,callback:e.callback,config:e.config})},100)}}catch(a){console.log(a.message)}},e.positionFocus=function(a){try{if(!a)return;var d,b=e.$elwrp,c=e.config.isBrowser;b.removeClass("animate"),e.config.animateJquery||"MSIE 6"==c||"MSIE 7"==c||"MSIE 8"==c||"MSIE 9"==c||0!=e.config.animate?b.css("margin-left",e.config.offset-a.currentFocalPoint):("none"==b.css(e.config.cssPrefix+"transform")&&b.css(e.config.cssPrefix+"transform","translate3d( 0 , 0 , 0 )"),d=e.config.offset-a.currentFocalPoint,b.css(e.config.cssPrefix+"transform","translate3d("+d+"px , 0  , 0 )")),e.$delayTimers[e.config.sliderNumber]=setTimeout(function(){b.addClass("animate"),e.slideComplete({slides:e.sldrSlides,callback:e.callback,config:e.config})},e.config.resizeDelay+1)}catch(a){console.log(a.message)}},e.focalChange=function(b,c){try{c="undefined"!=typeof c?c:"default";var h,i,j,k,n,o,p,d=e.$elwrp.children(),f=e.$elwrp.find("> ."+e.config.focalClass),g=f.index();if(e.slideStart({slides:e.sldrSlides,callback:e.callback,config:e.config}),!e.sldrSlides[b-1])return;if(p=e.sldrSlides[b-1].class_name,p=p.split(" "),p=p[0],f.hasClass(p))return!1;closerBehind=d.eq(g).prevAll("."+p+":first").index(),closerInFront=d.eq(g).nextAll("."+p+":first").index(),h=closerInFront!=-1&&closerInFront-g<g-closerBehind||closerInFront-g==g-closerBehind&&"prev"!=c?closerInFront:closerBehind!=-1?closerBehind:a("."+p).index(),i=d.eq(h),d.removeClass(e.config.focalClass),i.addClass(e.config.focalClass),o=h>parseInt((d.length-1)/2)?"next":"prev",sliceStart="prev"==o?parseInt((d.length-h+1)/2+h+2):0,sliceEnd="prev"==o?d.length:parseInt(.5*h)-1,elmntsSlice=d.slice(sliceStart,sliceEnd),elmntsClone=elmntsSlice.clone(),n=0;for(var q=0;q<elmntsSlice.length;q++)n+=a(elmntsSlice[q]).width();return n="prev"==o?-n:n,e.$elwrp.removeClass("animate"),e.config.animateJquery||"MSIE 6"==e.config.isBrowser||"MSIE 7"==e.config.isBrowser||"MSIE 8"==e.config.isBrowser||"MSIE 9"==e.config.isBrowser||0!=e.config.animate?(curr=parseFloat(e.$elwrp.css("margin-left")),e.$elwrp.css("margin-left",curr+n+"px")):("none"==e.$elwrp.css(e.config.cssPrefix+"transform")&&e.$elwrp.css(e.config.cssPrefix+"transform","translate3d( 0 , 0 , 0 )"),xtf=parseInt(e.getTranslatePosition(e.$elwrp.css(e.config.cssPrefix+"transform"),4)),curr=xtf+n,e.$elwrp.css(e.config.cssPrefix+"transform","translate3d( "+curr+"px , 0 , 0 )")),d.slice(sliceStart,sliceEnd).remove(),"prev"==o||"previous"==o?e.$elwrp.prepend(elmntsClone):e.$elwrp.append(elmntsClone),k=e.findFocalPoint(),currentFocalIndex=e.$elwrp.find("> ."+e.config.focalClass).index(),h=currentFocalIndex+1==d.length?0:currentFocalIndex+1,j=currentFocalIndex-1==-1?d.length-1:currentFocalIndex-1,nextSlideNum=b+1==e.sldrSlides.length+1?1:b+1,prevSlideNum=b-1==0?e.sldrSlides.length:b-1,e.callback.sldr=e.$el,e.callback.prevFocalIndex=j,e.callback.prevSlideNum=prevSlideNum,e.callback.currentFocalIndex=currentFocalIndex,e.callback.currentClass=i.attr("class"),e.callback.currentID=i.attr("id"),e.callback.currentFocalPoint=k,e.callback.currentSlideNum=b,e.callback.shiftWidth=n,e.callback.nextFocalIndex=h,e.callback.nextSlideNum=nextSlideNum,e.config.toggle.length>0&&(e.config.toggle.removeClass(e.config.focalClass),e.config.toggle.eq(b-1).addClass(e.config.focalClass)),e.callback}catch(a){console.log(a.message)}},e.fillGaps=function(a){try{var b=e.$el.width(),c=e.$elwrp,d=c.children(),f=e.findWidth(d),g=e.sldrSlides[e.sldrSlides.length-1].class_name;if(!(f<5*b))return c.css("width",f),!0;c.find("."+g).after(a),e.fillGaps(a)}catch(a){console.log(a.message)}},e.findWidth=function(b){try{var c=0;return b.each(function(d){c+=a(b[d]).width()}),c}catch(a){console.log(a.message)}},e.findFocalPoint=function(){try{for(var a=e.$elwrp,b=a.children(),c=e.$el.find("."+e.config.focalClass),d=c.width()/2,f=c.index(),g=d,h=0;h<f;h++)g+=b.eq(h).width();return g}catch(a){console.log(a.message)}},e.resizeElements=function(){try{var a=e.$elwrp,b=a.children(),c=e.findWidth(b),d=parseInt(a.css("width").slice(0,-2));"responsive"==e.config.sldrWidth?(b.css("width",e.$el.width()),c>d&&a.css("width",c)):""!=e.config.sldrWidth&&b.css("width",e.config.sldrWidth),e.config.offset=e.$el.width()/2;var f={currentFocalIndex:e.$el.find("."+e.config.focalClass).index(),currentFocalPoint:e.findFocalPoint(),shiftWidth:0};e.positionFocus(f)}catch(a){console.log(a.message)}},e.coordinatehandler=function(a){a=a||window.event,void 0!==a.originalEvent.touches?e.cursorcoordinate={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:e.cursorcoordinate={x:a.clientX,y:a.clientY}},e.coordinateevents=function(){e.trackmouse&&(e.thiscoordinate=e.cursorcoordinate,e.prevcoordinate!=e.thiscoordinate&&(e.prevcoordinate=e.thiscoordinate))},e.preventselect=function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1},e.sliderInit=function(a){""!=e.config.sldrInit&&e.config.sldrInit(a)},e.slideLoaded=function(a){""!=e.config.sldLoaded&&e.config.sldLoaded(a)},e.sliderLoaded=function(a){""!=e.config.sldrLoaded&&e.config.sldrLoaded(a)},e.slideStart=function(a){""!=e.config.sldrStart&&e.config.sldrStart(a)},e.slideComplete=function(a){""!=e.config.sldrComplete&&e.config.sldrComplete(a)},e.sliderTimer=function(){e.config.sldrAuto&&(e.$sliderTimers[e.config.sldrNumber]=setTimeout(function(){var a=e.focalChange(e.callback.nextSlideNum,"next");e.animate(a);if(e.sliderTimer(e.$el),""!=e.config.selectors){var c=e.config.selectors.eq(e.callback.nextSlideNum-2);c.siblings().removeClass(e.config.focalClass),c.addClass(e.config.focalClass)}},e.config.sldrTime))},e.sliderPause=function(){e.config.sldrAuto&&clearTimeout(e.$sliderTimers[e.config.sldrNumber])},e.evenNumber=function(a){return a%2==0},e.getTranslatePosition=function(a,b){return a=a.slice(7,-1),a=a.split(", "),a[b]},e.browser=function(){null!=navigator.userAgent.match("WebKit")?(e.config.isBrowser="Webkit",e.config.cssPrefix="-webkit-"):null!=navigator.userAgent.match("Gecko")?e.config.isBrowser="Gecko":null!=navigator.userAgent.match("MSIE 6")?(e.config.isBrowser="MSIE 6",e.config.isIE=!0):null!=navigator.userAgent.match("MSIE 7")?(e.config.isBrowser="MSIE 7",e.config.isIE=!0):null!=navigator.userAgent.match("MSIE 8")?(e.config.isBrowser="MSIE 8",e.config.isIE=!0):null!=navigator.userAgent.match("MSIE 9")&&(e.config.isBrowser="MSIE 9",e.config.isIE=!0,e.config.cssPrefix="-ms-")},e.init()},a.sldr.defaultOptions={focalClass:"focalPoint",offset:a(this).width()/2,selectors:"",toggle:"",nextSlide:"",hashChange:!1,previousSlide:"",resizeDelay:1,sldrNumber:0,sldrStart:"",sldrComplete:"",sldrInit:"",sldLoaded:"",sldrLoaded:"",sldrWidth:"",animate:"",animateJquery:!1,sldrAuto:!1,sldrTime:8e3,isBrowser:navigator.userAgent,isIE:!1,cssPrefix:""},a.fn.sldr=function(b){return this.each(function(){new a.sldr(this,b),a.sldr.defaultOptions.sldrNumber++})}}(jQuery);
